<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>FFF Farm Fight Formula</title>
  <meta name="description" content="Jogue Farm Fight Formula: monte seu deck, desafie a IA ou amigos e descubra combos insanos de cartas.">
  <meta property="og:title" content="FFF Farm Fight Formula">
  <meta property="og:description" content="Escolha sua facÃ§Ã£o favorita e lute em partidas solo ou multiplayer.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://fffarmfightformula.com">
  <meta property="og:image" content="img/ui/logos/logo2.png">
  <link rel="icon" href="/favicon.png" type="image/png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- Main menu -->
  <div class="start" id="titleMenu">
    <div class="start-layout">
      <div class="brand">
        <div class="logo-secret-fan" aria-hidden="true">
          <img src="img/decks/farm-vikings/deck-backs/fv-db-default.png" alt="" class="logo-secret-card">
          <img src="img/decks/north-beasts/deck-backs/nb-db-default.webp" alt="" class="logo-secret-card">
          <img src="img/decks/fJord-fishers/deck-backs/jf-db-default.webp" alt="" class="logo-secret-card">
          <img src="img/decks/forest-beasts/deck-backs/fb-db-default.webp" alt="" class="logo-secret-card">
        </div>
        <img src="img/ui/logos/logo2.png" class="logo-wordmark holo-logo" alt="Farm Fight Formula logo">
      </div>
      <div class="panel">
        <div class="panel-toolbar">
          <button class="btn-ghost mute-toggle" type="button" data-action="toggle-music" aria-pressed="false">ğŸ”Š MÃºsica</button>
        </div>
        <div class="main-actions">
          <button class="btn" id="menuPlay" type="button" aria-haspopup="true" aria-expanded="false" aria-controls="playPopup">Jogar</button>
          <button class="btn" id="menuOptions" type="button">OpÃ§Ãµes</button>
          <button class="btn" id="menuTestes" type="button">Testes</button>
        </div>
      </div>
      <div class="play-popup" id="playPopup" role="menu" hidden>
        <div class="play-popup-trail" aria-hidden="true">
          <span class="trail-card"></span>
          <span class="trail-card"></span>
          <span class="trail-card"></span>
        </div>
        <button class="btn" id="menuPlayStory" type="button" role="menuitem">HistÃ³ria</button>
        <button class="btn" id="menuPlayQuick" type="button" role="menuitem">Partida rÃ¡pida</button>
        <button class="btn" id="menuPlayMulti" type="button" role="menuitem">Multiplayer</button>
        <button class="btn" id="openEncy" type="button" role="menuitem">EnciclopÃ©dia</button>
      </div>
    </div>
  </div>

  <!-- Deck selection -->
  <div class="start" id="start" style="display:none">
    <div class="start-layout">
      <div class="brand">
        <div class="logo-secret-fan" aria-hidden="true">
          <img src="img/decks/farm-vikings/deck-backs/fv-db-default.png" alt="" class="logo-secret-card" loading="lazy" decoding="async">
          <img src="img/decks/north-beasts/deck-backs/nb-db-default.webp" alt="" class="logo-secret-card" loading="lazy" decoding="async">
          <img src="img/decks/fJord-fishers/deck-backs/jf-db-default.webp" alt="" class="logo-secret-card" loading="lazy" decoding="async">
          <img src="img/decks/forest-beasts/deck-backs/fb-db-default.webp" alt="" class="logo-secret-card" loading="lazy" decoding="async">
        </div>
        <img src="img/ui/logos/logo2.png" class="logo-wordmark holo-logo" alt="Farm Fight Formula logo" loading="lazy" decoding="async">
      </div>
      <div class="panel">
        <div class="panel-toolbar">
          <button class="btn-ghost mute-toggle" type="button" data-action="toggle-music" aria-pressed="false">ğŸ”Š MÃºsica</button>
        </div>
        <p class="sub">Escolha um deck e parta para a arena.</p>
        <div class="deckpick">
          <div class="deck-option">
            <button class="btn deckbtn" data-deck="vikings" type="button">
              <span class="deck-label">ğŸ‘©â€ğŸŒ¾ Fazendeiros Vikings</span>
              <span class="ribbon">Cura e proteÃ§Ã£o</span>
            </button>
            <button class="view-cards" data-deck="vikings" data-tip="Ver cartas" aria-label="Ver cartas do deck Fazendeiros Vikings" type="button">ğŸ“–</button>
          </div>
          <div class="deck-option">
            <button class="btn deckbtn" data-deck="animais" type="button">
              <span class="deck-label">ğŸº Bestas do Norte</span>
              <span class="ribbon">Ataque bruto</span>
            </button>
            <button class="view-cards" data-deck="animais" data-tip="Ver cartas" aria-label="Ver cartas do deck Bestas do Norte" type="button">ğŸ“–</button>
          </div>
          <div class="deck-option">
            <button class="btn deckbtn" data-deck="pescadores" type="button">
              <span class="deck-label">ğŸ£ Pescadores do Fiorde</span>
              <span class="ribbon">Suporte e bÃ´nus</span>
            </button>
            <button class="view-cards" data-deck="pescadores" data-tip="Ver cartas" aria-label="Ver cartas do deck Pescadores do Fiorde" type="button">ğŸ“–</button>
          </div>
          <div class="deck-option">
            <button class="btn deckbtn" data-deck="floresta" type="button">
              <span class="deck-label">ğŸŒ² Feras da Floresta</span>
              <span class="ribbon">PressÃ£o constante</span>
            </button>
            <button class="view-cards" data-deck="floresta" data-tip="Ver cartas" aria-label="Ver cartas do deck Feras da Floresta" type="button">ğŸ“–</button>
          </div>
          <div class="deck-option">
            <button class="btn deckbtn" data-deck="convergentes" type="button">
              <span class="deck-label">ğŸŒ€ Convergentes da Aurora</span>
              <span class="ribbon">AbsorÃ§Ã£o e metamorfose</span>
            </button>
            <button class="view-cards" data-deck="convergentes" data-tip="Ver cartas" aria-label="Ver cartas do deck Convergentes da Aurora" type="button">ğŸ“–</button>
          </div>
          <div class="deck-option">
            <button class="btn deckbtn" data-deck="custom" type="button">
              <span class="deck-label">ğŸ§© Deck Personalizado</span>
              <span class="ribbon">Monte seu baralho</span>
            </button>
            <button class="view-cards" data-deck="custom" data-tip="Ver cartas" aria-label="Ver cartas do deck personalizado" type="button">ğŸ“–</button>
          </div>
        </div>
        <div id="deckBuilder" style="display:none">
          <p>Monte seu baralho: <span id="countDeck">0</span>/20</p>
          <div id="curve"></div>
          <div id="pool"></div>
          <div id="chosen"></div>
          <button class="btn" id="saveDeck">Salvar Deck</button>
        </div>
        <div class="footer">
          <div class="controls">
            <label for="difficulty" class="sub">Dificuldade:</label>
            <select id="difficulty" class="difficulty">
              <option value="0">Ameba</option>
              <option value="1" selected>Equilibrado</option>
              <option value="2">IMPOSSIBLE!!!</option>
            </select>
            <button class="btn" id="startGame" disabled>Jogar</button>
            <button class="btn" id="backToMenu">Menu</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Multiplayer lobby -->
  <div class="multiplayer" id="multiplayerMenu" style="display:none" role="dialog" aria-modal="true" aria-labelledby="multiplayerTitle" aria-hidden="true">
    <div class="panel">
      <h2 id="multiplayerTitle">Multiplayer</h2>
      <div><input id="playerName" maxlength="16" placeholder="Seu nome"/></div>
      <button class="btn" id="hostBtn">Hostear partida</button>
      <button class="btn" id="findBtn">Encontrar partida</button>
      <div id="roomList" style="display:none"></div>
      <div><input id="joinCode" placeholder="CÃ³digo da sala"/><button class="btn" id="joinBtn">Entrar</button></div>
      <div class="sub" id="mpStatus"></div>
      <button class="btn-ghost" id="mpBack">Voltar</button>
    </div>
  </div>

  <!-- Options -->
  <div class="options-menu" id="optionsMenu" style="display:none" role="dialog" aria-modal="true" aria-labelledby="optionsTitle" aria-hidden="true">
    <div class="panel">
      <h2 id="optionsTitle">OpÃ§Ãµes</h2>
      <label>MÃºsica <input type="range" id="musicVol" min="0" max="1" step="0.01" value="1"></label>
      <label>Efeitos <input type="range" id="sfxVol" min="0" max="1" step="0.01" value="1"></label>
      <label><input type="checkbox" id="disableAnims"> Desativar animaÃ§Ãµes</label>
      <button class="btn-ghost" id="closeOptions">Fechar</button>
    </div>
  </div>

  <!-- Test menu -->
  <div class="options-menu" id="testModal" style="display:none" role="dialog" aria-modal="true" aria-labelledby="testTitle" aria-hidden="true">
    <div class="panel">
      <h2 id="testTitle">Testes</h2>
      <button class="btn" id="testShopBtn">Abrir Loja</button>
      <button class="btn" id="testTotemBtn">Totens</button>
      <button class="btn-ghost" id="closeTest">Fechar</button>
    </div>
  </div>

  <!-- Encyclopedia -->
  <div class="ency" id="ency" role="dialog" aria-modal="true" aria-labelledby="encyTitle" aria-describedby="encyHint" aria-hidden="true">
    <div class="panel">
      <div class="ency-hd">
        <h2 id="encyTitle" style="margin:0">EnciclopÃ©dia de Cartas</h2>
        <div class="filters" id="encyFilters">
          <button class="fbtn active" data-deck="all">Todos</button>
          <button class="fbtn" data-deck="vikings">Vikings</button>
          <button class="fbtn" data-deck="animais">Animais</button>
          <button class="fbtn" data-deck="pescadores">Pescadores</button>
          <button class="fbtn" data-deck="floresta">Floresta</button>
          <button class="fbtn" data-deck="convergentes">Convergentes</button>
        </div>
      </div>
      <div class="ency-grid" id="encyGrid"></div>
      <div class="footer">
        <span class="sub" id="encyHint" style="margin:0">Passe o mouse sobre uma palavra-chave para ver o que ela faz.</span>
        <button class="btn-ghost" id="closeEncy">Fechar</button>
      </div>
    </div>
  </div>

  <!-- Game area -->
  <div class="" id="gameWrap" style="display:none">
    <div class="mid-mana" id="midMana"></div>
    <div class="hud">
      <div class="meter player"><b>Seu HP</b><span class="value" id="playerHP">30</span><div class="player-img" id="playerAvatar">ğŸ‘¤</div><div class="bar"><div class="fill" id="barPlayerHP"></div></div></div>
      <div class="center-hud"><div class="meter mana"><b>Mana</b><span class="value" id="mana">0/0</span><div class="bar"><div class="fill" id="barMana"></div></div></div><button class="btn-ghost" id="muteBtn" title="Som" aria-pressed="false">ğŸ”Š Som</button><button class="btn-ghost" id="openMenuBtn" title="Menu">â˜° Menu</button></div>
      <div class="meter enemy" style="justify-self:end"><b>HP Inimigo</b><span class="opp-label" id="opponentLabel"></span><span class="value" id="aiHP">30</span><div class="enemy-img" id="aiAvatar">ğŸ§¿</div><div class="bar"><div class="fill" id="barAiHP"></div></div></div>
    </div>
    <div class="row enemy-row">
  <div class="pile" id="aiDrawPile"><img src="img/decks/fJord-fishers/deck-backs/jf-db-default.webp" alt="deck" loading="lazy" decoding="async"><div class="pile-label">DECK</div></div>
      <div class="board" id="aiBoard"></div>
  <div class="pile" id="aiDiscardPile"><img src="img/decks/fJord-fishers/deck-backs/jf-db-default.webp" alt="discard" loading="lazy" decoding="async"><div class="pile-label">DESCARTE</div></div>
    </div>
    <div class="turn-bar"><div class="turn-indicator" id="turnIndicator"></div><button class="btn" id="endTurnBtn">Encerrar turno</button></div>
    <div class="row">
  <div class="pile" id="drawPile"><img src="img/decks/fJord-fishers/deck-backs/jf-db-default.webp" alt="deck" loading="lazy" decoding="async"><div class="count" id="drawCount">0</div><div class="pile-label">SEU DECK</div></div>
      <div class="board" id="playerBoard"></div>
  <div class="pile" id="discardPile"><img src="img/decks/fJord-fishers/deck-backs/jf-db-default.webp" alt="discard" loading="lazy" decoding="async"><div class="count" id="discardCount">0</div><div class="pile-label">DESCARTE</div></div>
      <div class="log-wrap"><div class="zone-title">Registro</div><div class="log" id="log"></div></div>
    </div>
    <div class="totem-bar" id="totemBar"></div>
    <div class="hand" id="playerHand"></div>
    <div class="footer"><div class="face">ğŸ‘¤ VocÃª <span class="gem hp" id="playerHP2">30</span></div><div class="face">ğŸ§¿ Inimigo <span class="gem hp" id="aiHP2">30</span></div></div>
    <div class="emoji-bar" id="emojiBar">
      <button class="emoji-btn" data-emoji="ğŸ˜¡">ğŸ˜¡</button>
      <button class="emoji-btn" data-emoji="ğŸ¤”">ğŸ¤”</button>
      <button class="emoji-btn" data-emoji="â¤ï¸">â¤ï¸</button>
      <button class="emoji-btn" data-emoji="ğŸ‰">ğŸ‰</button>
    </div>
    <div class="emoji-popup player" id="playerEmoji"></div>
    <div class="emoji-popup opponent" id="opponentEmoji"></div>
  </div>

  <!-- In-game menu -->
  <div class="game-menu" id="gameMenu" role="dialog" aria-modal="true" aria-labelledby="gameMenuTitle" aria-hidden="true">
    <div class="panel">
      <h2 class="sr-only" id="gameMenuTitle">Menu do jogo</h2>
      <button class="btn" id="resignBtn">Desistir</button>
      <button class="btn" id="restartBtn">RecomeÃ§ar</button>
      <button class="btn" id="mainMenuBtn">Menu principal</button>
      <button class="btn-ghost" id="closeMenuBtn">Fechar</button>
    </div>
  </div>

  <!-- End screen -->
  <div class="end-overlay" id="endOverlay" role="dialog" aria-modal="true" aria-labelledby="endMsg" aria-describedby="endSub" aria-hidden="true">
    <div class="end-box">
      <div class="end-msg" id="endMsg"></div>
      <div class="end-sub" id="endSub"></div>
      <div class="end-actions">
        <button class="btn" id="playAgainBtn">Jogar de novo</button>
        <button class="btn" id="rematchBtn">Revanche</button>
        <button class="btn-ghost" id="menuBtn">Menu inicial</button>
      </div>
    </div>
  </div>

  <!-- Reconnect popup -->
  <div class="reconnect-overlay" id="reconnectOverlay" role="alertdialog" aria-modal="true" aria-labelledby="reconnectMsg" aria-describedby="reconnectTimer" aria-hidden="true" tabindex="-1">
    <div class="reconnect-box">
      <div id="reconnectMsg">VocÃª perdeu a conexÃ£o com a sala.</div>
      <div>Tentando reconectar... <span id="reconnectTimer">15</span>s</div>
    </div>
  </div>

  <!-- Shop Modal -->
  <div id="shopModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="shopTitle" aria-describedby="shopMsg" aria-hidden="true">
    <div class="box">
      <div style="display:flex;gap:8px;align-items:center;margin-bottom:8px">
  <img id="shopVendor" class="shop-keeper" src="img/ui/shopkeeper.png" alt="Vendedor" loading="lazy" decoding="async">
        <h2 id="shopTitle" style="margin:0">Loja</h2>
  <span style="margin-left:auto"><span class="coin-icon"></span> <b id="shopGold">0</b></span>
        <button class="btn" id="btnReroll">Re-rolar</button>
      </div>
      <div id="shopMsg" class="shop-msg" aria-live="polite"></div>
      <div class="shop-grid" id="shopChoices"></div>
      <div style="margin-top:12px;text-align:right">
        <button id="closeShop" class="btn">Fechar</button>
      </div>
    </div>
  </div>

  <div id="encounterBanner"></div>
  <div id="encounterTransition"></div>
  <script src="js/player-id.js" defer></script>
  <script src="socket.io/socket.io.js" defer></script>
  <script src="js/net-client.js" defer></script>
  <script src="js/multiplayer.js" defer></script>
  <script src="js/menu.js" defer></script>
  <script src="js/shop.js" defer></script>
  <script src="js/enemies.js" defer></script>
  <script src="js/game.js" defer></script>
</body>
</html>
